E:\coal-mine-prediction-service\venv\Scripts\python.exe E:\coal-mine-prediction-service\app.py 
14:21:22 | INFO     | setup_logging:setup_logging:124 - æ—¥å¿—ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆï¼Œæ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼šlogs\20260114.logï¼Œä¿ç•™å¤‡ä»½ï¼š10å¤©ï¼Œlog_level=INFOï¼Œverbose_console=Trueï¼Œbrief_training_logs=False
14:21:22 | WARNING  | db_utils:__init__:37 - [è¯Šæ–­] æ­£åœ¨åŠ è½½ DBUtils æ–‡ä»¶ï¼šE:\coal-mine-prediction-service\db_utils.py
14:21:22 | WARNING  | db_utils:__init__:37 - [è¯Šæ–­] æ­£åœ¨åŠ è½½ DBUtils æ–‡ä»¶ï¼šE:\coal-mine-prediction-service\db_utils.py
14:21:22 | INFO     | coal_mine_model:__init__:48 - æˆåŠŸåŠ è½½é…ç½®æ–‡ä»¶ï¼šconfig.ini
14:21:22 | INFO     | regional_measure_calculator:_load_regional_measure_config:34 - åŒºåŸŸæªæ–½å¼ºåº¦é…ç½®åŠ è½½å®Œæˆï¼šé»˜è®¤ç…¤å¯†åº¦=1.4t/mÂ³ï¼Œæœ€å°ç…¤é‡é˜ˆå€¼=0.001t
14:21:22 | INFO     | model_trainer:__init__:45 - æ¨¡å‹è®­ç»ƒå™¨åˆå§‹åŒ–å®Œæˆï¼Œä½¿ç”¨ç®—æ³•: lightgbm
14:21:22 | WARNING  | db_utils:__init__:37 - [è¯Šæ–­] æ­£åœ¨åŠ è½½ DBUtils æ–‡ä»¶ï¼šE:\coal-mine-prediction-service\db_utils.py
14:21:22 | WARNING  | db_utils:__init__:37 - [è¯Šæ–­] æ­£åœ¨åŠ è½½ DBUtils æ–‡ä»¶ï¼šE:\coal-mine-prediction-service\db_utils.py
14:21:22 | INFO     | coal_mine_model:__init__:86 - è·¨è¿›ç¨‹é”åˆå§‹åŒ–å®Œæˆï¼Œé”æ–‡ä»¶è·¯å¾„ï¼šmodels\model.lock

[14:21:22] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
â”‚ æ¨¡å‹åŠ è½½å¤±è´¥æˆ–æœªè®­ç»ƒï¼Œéœ€ä»å¤´è®­ç»ƒ
------------------------------------------------------------
14:21:22 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š0

[14:21:22] æ¨¡å‹åˆå§‹åŒ–å®Œæˆ
----------------------------------------
14:21:22 | INFO     | coal_mine_model:__init__:112 - å½“å‰é…ç½®æ–‡ä»¶ï¼šconfig.ini
â”œâ”€ åˆ†ç±»ç‰¹å¾æ•°é‡ï¼š5
â”œâ”€ æ•°å€¼ç‰¹å¾æ•°é‡ï¼š9
â”œâ”€ é¢„æµ‹ç›®æ ‡æ•°é‡ï¼š2
â”œâ”€ ç´¯è®¡æ ·æœ¬æ•°ï¼š0
â”œâ”€ ä½¿ç”¨ç®—æ³•ï¼šlightgbm
â””â”€ æ¨¡å‹çŠ¶æ€ï¼šæœªè®­ç»ƒ
============================================================
14:21:22 | INFO     | __main__:<module>:43 - Flaskåº”ç”¨åˆå§‹åŒ–å®Œæˆï¼Œæ¨¡å‹çŠ¶æ€ï¼šæœªè®­ç»ƒ
14:21:22 | INFO     | source_prediction:_load_source_prediction_params:31 - åˆ†æºé¢„æµ‹æ³•é…ç½®åŠ è½½å®Œæˆ
14:21:22 | INFO     | __main__:<module>:1214 - å¯åŠ¨ç…¤çŸ¿ç“¦æ–¯é£é™©é¢„æµ‹æœåŠ¡
14:21:22 | INFO     | __main__:<module>:1215 - æœåŠ¡åœ°å€ï¼š0.0.0.0:5000
14:21:22 | INFO     | __main__:<module>:1216 - è°ƒè¯•æ¨¡å¼ï¼šå…³é—­
 * Serving Flask app 'app'
 * Debug mode: off
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.224:5000
Press CTRL+C to quit
14:21:35 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:21:35 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:21:35 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=342, valid_labels=342
14:21:35 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=342, valid_labels=342, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 342, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 342, 'missing_ratio': 0.0}}
14:21:35 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:21:35 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 342æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-08-13 åˆ° 2025-08-15
14:21:35 | INFO     | __main__:train_model:402 - è®¡ç®—342æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:21:35 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:21:35 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:21:35 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:21:36 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š342ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š342ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.55
14:21:36 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š342
14:21:36 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.1, 'distance_from_entrance': 105.5, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 105.5, 'gas_emission_velocity_q': 0.35, 'measurement_date': '2025-08-13', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36604.0468137606, 'y_coord': 49489.3406847466, 'z_coord': -657.66676577215, 'fault_influence_strength': 0.5}
14:21:36 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:21:36 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=0ï¼Œbatch=342ï¼Œepochs=3

[14:21:36] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:21:36 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 342
14:21:37 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 0 æ¡ seed è¡Œ
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=55.26%
14:21:38 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (342, 36)
14:21:38 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', 'measurement_date_parsed', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'spatiotemporal_group', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:21:38 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:21:38 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:21:38 | INFO     | coal_mine_model:train:575 - è‡ªåŠ¨é…ç½®åˆ‡æ¢ï¼šåˆæ¬¡å¤§é‡æ•°æ®è®­ç»ƒ â†’ config_phase1.ini
14:21:38 | INFO     | coal_mine_model:reload_config:139 - å¼€å§‹åŠ¨æ€é‡è½½ç³»ç»Ÿé…ç½®
14:21:38 | INFO     | coal_mine_model:reload_config:164 - åˆ‡æ¢åˆ°æ–°é…ç½®æ–‡ä»¶: config_phase1.ini
14:21:38 | INFO     | regional_measure_calculator:_load_regional_measure_config:34 - åŒºåŸŸæªæ–½å¼ºåº¦é…ç½®åŠ è½½å®Œæˆï¼šé»˜è®¤ç…¤å¯†åº¦=1.4t/mÂ³ï¼Œæœ€å°ç…¤é‡é˜ˆå€¼=0.001t
14:21:38 | INFO     | model_trainer:__init__:45 - æ¨¡å‹è®­ç»ƒå™¨åˆå§‹åŒ–å®Œæˆï¼Œä½¿ç”¨ç®—æ³•: lightgbm
14:21:38 | INFO     | coal_mine_model:reload_config:229 - å¢é‡è®­ç»ƒçª—å£å‚æ•°åŠ è½½å®Œæˆï¼šlookback_days=14, window_limit=5000
14:21:38 | INFO     | coal_mine_model:reload_config:242 - è·³è¿‡æ•°æ®åº“é…ç½®é‡è½½ï¼ˆä½¿ç”¨ç°æœ‰è¿æ¥ï¼‰
14:21:38 | INFO     | coal_mine_model:reload_config:266 - é…ç½®åŠ¨æ€é‡è½½å®Œæˆï¼Œæ‰€æœ‰æ¨¡å—å·²æ›´æ–°
â”œâ”€ ç»“æœï¼šé…ç½®åŠ¨æ€é‡è½½æˆåŠŸ
â”œâ”€ æ–°çš„å…¨é‡è®­ç»ƒé˜ˆå€¼: 200
â”œâ”€ æ–°çš„æœ€å°æ ·æœ¬æ•°: 5
â”œâ”€ æ–°çš„æ ‘æ•°é‡: 120
â”œâ”€ æ–°çš„å­¦ä¹ ç‡: 0.03
â””â”€ æ•°æ®åº“é…ç½®æœªé‡è½½ï¼ˆä½¿ç”¨ç°æœ‰è¿æ¥ï¼‰
â”‚ âœ… é…ç½®å·²åˆ‡æ¢ï¼šconfig_phase1.iniï¼ˆåˆæ¬¡å¤§é‡æ•°æ®è®­ç»ƒï¼‰
14:21:38 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:21:38 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:21:38 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:21:38 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:21:38 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 342 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šé¦–æ¬¡è®­ç»ƒ
14:21:38 | INFO     | coal_mine_model:train:898 - æ„å»ºè®­ç»ƒé›†: Xå½¢çŠ¶=(342, 27), yå½¢çŠ¶=(342, 2)
14:21:38 | INFO     | model_trainer:_full_train:164 - å…¨é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, é¢„æœŸæ ‘æ•°é‡: 120
14:21:38 | INFO     | model_trainer:_full_train:226 - å…¨é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è®­ç»ƒRMSE: 0.1367, éªŒè¯RMSE: 0.1322, é¢„æœŸæ ‘æ•°é‡: 120, å®é™…æ ‘æ•°é‡: 120
14:21:38 | INFO     | model_trainer:_full_train:164 - å…¨é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, é¢„æœŸæ ‘æ•°é‡: 120
14:21:38 | INFO     | model_trainer:_full_train:226 - å…¨é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è®­ç»ƒRMSE: 0.1801, éªŒè¯RMSE: 0.2719, é¢„æœŸæ ‘æ•°é‡: 120, å®é™…æ ‘æ•°é‡: 120
14:21:38 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ342 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:21:38 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š342
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 342 æ¡ï¼Œç´¯è®¡ 342 æ¡

[14:21:38] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:21:38 | WARNING  | model_evaluator:evaluate_model:226 - time_holdouté™çº§ï¼šæ—¥æœŸè·¨åº¦è¿‡çŸ­ span_days=2, uniq_dates=2ï¼Œholdout_days=3ã€‚å°†å›é€€ä¸º latest + (å¯é€‰)groupå»é‡
14:21:38 | WARNING  | model_evaluator:evaluate_model:226 - time_holdouté™çº§ï¼šæ—¥æœŸè·¨åº¦è¿‡çŸ­ span_days=2, uniq_dates=2ï¼Œholdout_days=3ã€‚å°†å›é€€ä¸º latest + (å¯é€‰)groupå»é‡
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:21:38 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=23.5%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=23.5%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=23.5%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=100.0%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=100.0%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=100.0%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=100.0%
14:21:38 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=23.5%
14:21:38 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=31.5%
14:21:38 | WARNING  | model_evaluator:evaluate_model:472 - è¯„ä¼°è¾“å…¥ä¸å¯ä¿¡ï¼ˆå¢å¼ºç‰¹å¾æœªæœ‰æ•ˆç”Ÿæˆ/å¤§é‡è¢«è¡¥0ï¼‰ï¼Œæœ¬æ¬¡è¯„ä¼°æ ‡è®°ä¸º evaluation_invalidï¼›åŸå› ï¼šå…³é”®å¢å¼ºç‰¹å¾è¿‘ä¹å…¨0ï¼ˆ>=95%ï¼‰çš„åˆ—æ•°=4ï¼š['drilling_cuttings_s_historical_mean', 'gas_emission_velocity_q_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_trend']
14:21:38 | WARNING  | model_evaluator:evaluate_model:472 - è¯„ä¼°è¾“å…¥ä¸å¯ä¿¡ï¼ˆå¢å¼ºç‰¹å¾æœªæœ‰æ•ˆç”Ÿæˆ/å¤§é‡è¢«è¡¥0ï¼‰ï¼Œæœ¬æ¬¡è¯„ä¼°æ ‡è®°ä¸º evaluation_invalidï¼›åŸå› ï¼šå…³é”®å¢å¼ºç‰¹å¾è¿‘ä¹å…¨0ï¼ˆ>=95%ï¼‰çš„åˆ—æ•°=4ï¼š['drilling_cuttings_s_historical_mean', 'gas_emission_velocity_q_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_trend']
â”œâ”€ ç»“æœï¼šè¯„ä¼°è¾“å…¥ä¸å¯ä¿¡ï¼ˆå¢å¼ºç‰¹å¾æœªæœ‰æ•ˆç”Ÿæˆ/å¤§é‡è¢«è¡¥0ï¼‰ï¼Œæœ¬æ¬¡è¯„ä¼°æ ‡è®°ä¸º evaluation_invalid
14:21:38 | INFO     | coal_mine_model:train:1007 - è·³è¿‡æ€§èƒ½å›æ»šæ£€æŸ¥: è¯„ä¼°å¤±è´¥/æœªæˆåŠŸ, è¯„ä¼°è¾“å…¥ä¸å¯ä¿¡(evaluation_invalid), æ— RMSEæ•°æ®, æ— åŸºçº¿æ•°æ®
14:21:38 | WARNING  | coal_mine_model:train:1024 - æœ¬æ¬¡è¯„ä¼°ä¸º evaluation_invalidï¼šè·³è¿‡åŸºçº¿æ›´æ–°ï¼ˆéœ€å…ˆä¿®å¤å¢å¼ºç‰¹å¾ç”Ÿæˆé—­ç¯ï¼‰
14:21:38 | WARNING  | coal_mine_model:train:1024 - æœ¬æ¬¡è¯„ä¼°ä¸º evaluation_invalidï¼šè·³è¿‡åŸºçº¿æ›´æ–°ï¼ˆéœ€å…ˆä¿®å¤å¢å¼ºç‰¹å¾ç”Ÿæˆé—­ç¯ï¼‰
14:21:38 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142138_warning
14:21:38 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=skipped
14:21:38 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: æ— è¯„ä¼°æ•°æ®
14:21:38 | INFO     | performance_monitor:_start_background_monitoring:68 - æ€§èƒ½ç›‘æ§åå°çº¿ç¨‹å·²å¯åŠ¨
14:21:38 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šé¦–æ¬¡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š342
127.0.0.1 - - [14/Jan/2026 14:21:38] "POST /api/model/train HTTP/1.1" 200 -
14:21:48 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:21:48 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:21:48 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=513, valid_labels=513
14:21:48 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=513, valid_labels=513, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 513, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 513, 'missing_ratio': 0.0}}
14:21:48 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:21:48 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 513æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-08-17 åˆ° 2025-08-19
14:21:48 | INFO     | __main__:train_model:386 - å‘ç°108ä¸ªåæ ‡ç‚¹æœ‰é‡å¤æµ‹é‡
14:21:48 | INFO     | __main__:train_model:402 - è®¡ç®—513æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:21:48 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:21:48 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:21:48 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:21:49 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š513ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š513ï¼Œå¹³å‡å€¼ï¼š0.51ï¼Œæœ€å¤§å€¼ï¼š1.06
14:21:49 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š513
14:21:49 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.0, 'distance_from_entrance': 117.2, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 117.2, 'gas_emission_velocity_q': 0.21, 'measurement_date': '2025-08-17', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36601.3741942708, 'y_coord': 49500.6286032591, 'z_coord': -657.522550266755, 'fault_influence_strength': 0.5}
14:21:49 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:21:49 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=342ï¼Œbatch=513ï¼Œepochs=3

[14:21:49] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:21:49 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 513
14:21:51 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 405 æ¡ seed è¡Œ
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=14.04%
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=18.13%
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:21:51 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=36.84%
14:21:51 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (513, 37)
14:21:51 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:21:51 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:21:51 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:21:51 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:21:51 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:21:51 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:21:51 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:21:51 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 513 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå…¨é‡è®­ç»ƒï¼ˆæ¨¡å‹æœªå°±ç»ª/æœªå‘å¸ƒï¼‰
14:21:51 | INFO     | coal_mine_model:train:898 - æ„å»ºè®­ç»ƒé›†: Xå½¢çŠ¶=(513, 27), yå½¢çŠ¶=(513, 2)
14:21:51 | INFO     | model_trainer:_full_train:164 - å…¨é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, é¢„æœŸæ ‘æ•°é‡: 120
14:21:51 | INFO     | model_trainer:_full_train:226 - å…¨é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è®­ç»ƒRMSE: 0.1618, éªŒè¯RMSE: 0.1049, é¢„æœŸæ ‘æ•°é‡: 120, å®é™…æ ‘æ•°é‡: 120
14:21:51 | INFO     | model_trainer:_full_train:164 - å…¨é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, é¢„æœŸæ ‘æ•°é‡: 120
14:21:51 | INFO     | model_trainer:_full_train:226 - å…¨é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è®­ç»ƒRMSE: 0.1036, éªŒè¯RMSE: 0.0718, é¢„æœŸæ ‘æ•°é‡: 120, å®é™…æ ‘æ•°é‡: 120
14:21:51 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ513 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:21:51 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š855
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 513 æ¡ï¼Œç´¯è®¡ 855 æ¡

[14:21:51] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:21:51 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š513 â†’ 513ï¼ˆcutoff=2025-08-16ï¼‰
14:21:51 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-08-19, cutoff=2025-08-16ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:21:51 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=31.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=42.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:21:51 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=3.3%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.1206ï¼ŒMAE=0.0874ï¼ŒRÂ²=0.872
â”‚   gas_emission_velocity_qï¼šRMSE=0.1266ï¼ŒMAE=0.0789ï¼ŒRÂ²=0.9129
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.1236
14:21:51 | INFO     | coal_mine_model:train:961 - è®¾ç½®åˆå§‹æ€§èƒ½åŸºçº¿: 0.1236
14:21:51 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:21:51 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 513æ¡, å½“å‰RMSE: 0.1236
14:21:51 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.1236, ä¸‹é™æ¯”ä¾‹: 0.00%
14:21:51 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:21:51 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.1236 å½“å‰=0.1236
14:21:51 | INFO     | coal_mine_model:train:1071 - çº¿ä¸Šå°šæ— å·²å‘å¸ƒæ¨¡å‹ï¼šé¦–ä¸ªå¯ä¿¡è¯„ä¼°æ¨¡å‹å°†ç›´æ¥å‘å¸ƒï¼ˆå»ºç«‹ç”Ÿäº§èµ·ç‚¹ï¼‰
14:21:51 | INFO     | model_manager:save_model:86 - æ¨¡å‹å¤‡ä»½å®Œæˆï¼Œå¤‡ä»½ç›®å½•ï¼šmodels\backup\20260114_142151ï¼Œç®—æ³•ç±»å‹ï¼šlightgbm
14:21:51 | INFO     | coal_mine_model:train:1091 - å‘å¸ƒæˆåŠŸï¼špublish_action=published
14:21:51 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.1236

[14:21:51] æ¨¡å‹è®­ç»ƒè¯Šæ–­ç»“æœ
----------------------------------------
â”‚ drilling_cuttings_s: è®­ç»ƒRMSE=0.1618, (éªŒè¯é›†)RMSE=0.1049, è¿‡æ‹Ÿåˆæ¯”ç‡=0.65 âœ… è‰¯å¥½
â”‚ gas_emission_velocity_q: è®­ç»ƒRMSE=0.1036, (éªŒè¯é›†)RMSE=0.0718, è¿‡æ‹Ÿåˆæ¯”ç‡=0.69 âœ… è‰¯å¥½

[14:21:51] å‚æ•°è°ƒæ•´å»ºè®®
----------------------------------------
â”‚ âœ… æ¨¡å‹æ‹ŸåˆçŠ¶æ€è‰¯å¥½ï¼Œå½“å‰å‚æ•°é…ç½®åˆç†
â”‚ ğŸ’¡ å¯å°è¯•å¾®è°ƒ learning_rate æˆ– lightgbm ç‰¹å®šå‚æ•°è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½
â”‚ ğŸ”§ å‚æ•°è°ƒæ•´ä½ç½®ï¼šconfig_phase1.ini -> [Model] section
â”‚ ğŸ¯ å½“å‰ä½¿ç”¨ç®—æ³•ï¼šlightgbm
â”‚ ğŸ’¾ ä¿®æ”¹é…ç½®åé‡å¯æœåŠ¡ç”Ÿæ•ˆ
14:21:51 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼šsuccessï¼Œæ¨¡å¼ï¼šå…¨é‡è®­ç»ƒï¼ˆæ¨¡å‹æœªå°±ç»ª/æœªå‘å¸ƒï¼‰ï¼Œæ–°å¢æ ·æœ¬ï¼š513
127.0.0.1 - - [14/Jan/2026 14:21:51] "POST /api/model/train HTTP/1.1" 200 -
14:22:01 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:22:01 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:22:01 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=396, valid_labels=396
14:22:01 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=396, valid_labels=396, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 396, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 396, 'missing_ratio': 0.0}}
14:22:01 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:22:01 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 396æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-08-21 åˆ° 2025-08-23
14:22:01 | INFO     | __main__:train_model:386 - å‘ç°81ä¸ªåæ ‡ç‚¹æœ‰é‡å¤æµ‹é‡
14:22:01 | INFO     | __main__:train_model:402 - è®¡ç®—396æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:22:01 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:22:01 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:01 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:02 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š396ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š396ï¼Œå¹³å‡å€¼ï¼š0.52ï¼Œæœ€å¤§å€¼ï¼š1.07
14:22:02 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š396
14:22:02 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.1, 'distance_from_entrance': 128.9, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 128.9, 'gas_emission_velocity_q': 0.22, 'measurement_date': '2025-08-21', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36598.816773897, 'y_coord': 49511.4299735598, 'z_coord': -657.383498751763, 'fault_influence_strength': 0.5}
14:22:02 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:22:02 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=855ï¼Œbatch=396ï¼Œepochs=3

[14:22:02] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:22:02 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 396
14:22:04 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 315 æ¡ seed è¡Œ
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=17.17%
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=14.39%
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:04 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=45.45%
14:22:04 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (396, 37)
14:22:04 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:04 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:04 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:22:04 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:04 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:04 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:04 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:22:04 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 396 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå…¨é‡è®­ç»ƒï¼ˆæ¨¡å‹æœªå°±ç»ª/æœªå‘å¸ƒï¼‰
14:22:04 | INFO     | coal_mine_model:train:898 - æ„å»ºè®­ç»ƒé›†: Xå½¢çŠ¶=(396, 27), yå½¢çŠ¶=(396, 2)
14:22:04 | INFO     | model_trainer:_full_train:164 - å…¨é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, é¢„æœŸæ ‘æ•°é‡: 120
14:22:04 | INFO     | model_trainer:_full_train:226 - å…¨é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è®­ç»ƒRMSE: 0.1650, éªŒè¯RMSE: 0.0937, é¢„æœŸæ ‘æ•°é‡: 120, å®é™…æ ‘æ•°é‡: 120
14:22:04 | INFO     | model_trainer:_full_train:164 - å…¨é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, é¢„æœŸæ ‘æ•°é‡: 120
14:22:04 | INFO     | model_trainer:_full_train:226 - å…¨é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è®­ç»ƒRMSE: 0.0972, éªŒè¯RMSE: 0.0977, é¢„æœŸæ ‘æ•°é‡: 120, å®é™…æ ‘æ•°é‡: 120
14:22:04 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ396 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:22:04 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š1251
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 396 æ¡ï¼Œç´¯è®¡ 1251 æ¡

[14:22:04] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:22:04 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š396 â†’ 396ï¼ˆcutoff=2025-08-20ï¼‰
14:22:04 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-08-23, cutoff=2025-08-20ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:22:04 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=33.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=28.0%
14:22:04 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=23.5%
14:22:04 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=3.8%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.1294ï¼ŒMAE=0.0835ï¼ŒRÂ²=0.8632
â”‚   gas_emission_velocity_qï¼šRMSE=0.1599ï¼ŒMAE=0.0869ï¼ŒRÂ²=0.8447
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.1446
14:22:04 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:22:04 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 396æ¡, å½“å‰RMSE: 0.1446
14:22:04 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.1236, ä¸‹é™æ¯”ä¾‹: 16.99%
14:22:04 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:22:04 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.1236 å½“å‰=0.1446
14:22:04 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142204_success

[14:22:04] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:22:05 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:22:05 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:22:05 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.1446
14:22:05 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå…¨é‡è®­ç»ƒï¼ˆæ¨¡å‹æœªå°±ç»ª/æœªå‘å¸ƒï¼‰ï¼Œæ–°å¢æ ·æœ¬ï¼š396
127.0.0.1 - - [14/Jan/2026 14:22:05] "POST /api/model/train HTTP/1.1" 200 -
14:22:15 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:22:15 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:22:15 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=558, valid_labels=558
14:22:15 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=558, valid_labels=558, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 558, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 558, 'missing_ratio': 0.0}}
14:22:15 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:22:15 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 558æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-08-25 åˆ° 2025-08-27
14:22:15 | INFO     | __main__:train_model:386 - å‘ç°126ä¸ªåæ ‡ç‚¹æœ‰é‡å¤æµ‹é‡
14:22:15 | INFO     | __main__:train_model:402 - è®¡ç®—558æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:22:15 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:22:15 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:15 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:15 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š558ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š558ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.9
14:22:15 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š558
14:22:15 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.1, 'distance_from_entrance': 134.9, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 134.9, 'gas_emission_velocity_q': 0.27, 'measurement_date': '2025-08-25', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36597.5495836217, 'y_coord': 49516.782003889, 'z_coord': -657.309897187546, 'fault_influence_strength': 0.5}
14:22:15 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:22:15 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=1251ï¼Œbatch=558ï¼Œepochs=3

[14:22:15] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:22:15 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 558
14:22:18 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 432 æ¡ seed è¡Œ
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=14.87%
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=16.49%
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:19 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=56.45%
14:22:19 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (558, 37)
14:22:19 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:19 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:19 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:22:19 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:19 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:19 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:19 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:22:19 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 558 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:22:19 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=14ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1809ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:22:19 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1809, 27), yå½¢çŠ¶=(1809, 2)
14:22:19 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:22:19 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:22:19 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.2346
14:22:19 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:22:19 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:22:19 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.1945
14:22:19 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ558 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:22:19 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š1809
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 558 æ¡ï¼Œç´¯è®¡ 1809 æ¡

[14:22:19] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:22:19 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š558 â†’ 558ï¼ˆcutoff=2025-08-24ï¼‰
14:22:19 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-08-27, cutoff=2025-08-24ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:22:19 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=13.5%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=12.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:19 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=1.2%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.1873ï¼ŒMAE=0.1469ï¼ŒRÂ²=0.7659
â”‚   gas_emission_velocity_qï¼šRMSE=0.252ï¼ŒMAE=0.1917ï¼ŒRÂ²=0.7848
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.2196
14:22:19 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:22:19 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 558æ¡, å½“å‰RMSE: 0.2196
14:22:19 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.1236, ä¸‹é™æ¯”ä¾‹: 77.67%
14:22:19 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:22:19 | WARNING  | coal_mine_model:train:984 - æ€§èƒ½ä¸‹é™è¿‡å¤šï¼ˆ77.67%ï¼‰ï¼Œå°è¯•å›æ»š
14:22:19 | WARNING  | coal_mine_model:train:984 - æ€§èƒ½ä¸‹é™è¿‡å¤šï¼ˆ77.67%ï¼‰ï¼Œå°è¯•å›æ»š
14:22:19 | WARNING  | model_manager:rollback_model:293 - å¤‡ä»½ç´¢å¼• -2 è¶…å‡ºèŒƒå›´ï¼Œå…± 1 ä¸ªå¤‡ä»½
14:22:19 | WARNING  | model_manager:rollback_model:293 - å¤‡ä»½ç´¢å¼• -2 è¶…å‡ºèŒƒå›´ï¼Œå…± 1 ä¸ªå¤‡ä»½
14:22:19 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.1236 å½“å‰=0.2196
14:22:19 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142219_success

[14:22:19] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:22:19 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:22:19 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:22:19 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.2196
14:22:19 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š558
127.0.0.1 - - [14/Jan/2026 14:22:19] "POST /api/model/train HTTP/1.1" 200 -
14:22:29 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:22:29 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:22:29 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=450, valid_labels=450
14:22:29 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=450, valid_labels=450, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 450, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 450, 'missing_ratio': 0.0}}
14:22:29 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:22:29 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 450æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-08-29 åˆ° 2025-08-31
14:22:29 | INFO     | __main__:train_model:386 - å‘ç°99ä¸ªåæ ‡ç‚¹æœ‰é‡å¤æµ‹é‡
14:22:29 | INFO     | __main__:train_model:402 - è®¡ç®—450æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:22:29 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:22:29 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:29 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:30 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š450ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š450ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:22:30 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š450
14:22:30 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.0, 'distance_from_entrance': 144.1, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 144.1, 'gas_emission_velocity_q': 0.45, 'measurement_date': '2025-08-29', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36595.4897236127, 'y_coord': 49525.4819074922, 'z_coord': -657.187094180539, 'fault_influence_strength': 0.5}
14:22:30 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:22:30 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=1809ï¼Œbatch=450ï¼Œepochs=3

[14:22:30] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:22:30 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 450
14:22:33 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 351 æ¡ seed è¡Œ
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=18.00%
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=14.22%
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=64.00%
14:22:33 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (450, 37)
14:22:33 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:33 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:33 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:22:33 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:33 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:33 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:33 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:22:33 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 450 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:22:33 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=14ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1917ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:22:33 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1917, 27), yå½¢çŠ¶=(1917, 2)
14:22:33 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:22:33 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:22:33 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.2185
14:22:33 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:22:34 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:22:34 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.1587
14:22:34 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ450 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:22:34 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š2259
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 450 æ¡ï¼Œç´¯è®¡ 2259 æ¡

[14:22:34] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:22:34 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š450 â†’ 450ï¼ˆcutoff=2025-08-28ï¼‰
14:22:34 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-08-31, cutoff=2025-08-28ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:22:34 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=6.5%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=1.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=19.0%
14:22:34 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=1.2%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.1338ï¼ŒMAE=0.1081ï¼ŒRÂ²=0.8546
â”‚   gas_emission_velocity_qï¼šRMSE=0.1363ï¼ŒMAE=0.0907ï¼ŒRÂ²=0.9167
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.135
14:22:34 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:22:34 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 450æ¡, å½“å‰RMSE: 0.1350
14:22:34 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.1236, ä¸‹é™æ¯”ä¾‹: 9.22%
14:22:34 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:22:34 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.1236 å½“å‰=0.1350
14:22:34 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142234_success

[14:22:34] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:22:34 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:22:34 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:22:34 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.1350
14:22:34 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š450
127.0.0.1 - - [14/Jan/2026 14:22:34] "POST /api/model/train HTTP/1.1" 200 -
14:22:44 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:22:44 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:22:44 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486
14:22:44 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}}
14:22:44 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:22:44 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 486æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-09-02 åˆ° 2025-09-04
14:22:44 | INFO     | __main__:train_model:402 - è®¡ç®—486æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:22:44 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:22:44 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:44 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:44 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š486ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š486ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:22:44 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š486
14:22:44 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.1, 'distance_from_entrance': 153.2, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 153.2, 'gas_emission_velocity_q': 0.29, 'measurement_date': '2025-09-02', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36593.1627014707, 'y_coord': 49535.3101813694, 'z_coord': -657.084370691517, 'fault_influence_strength': 0.5}
14:22:44 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:22:44 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=2259ï¼Œbatch=486ï¼Œepochs=3

[14:22:44] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:22:44 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 486
14:22:48 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 486 æ¡ seed è¡Œ
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:22:49 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=50.00%
14:22:49 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (486, 37)
14:22:49 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:49 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:49 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:22:49 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:22:49 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:49 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:22:49 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:22:49 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 486 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:22:49 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=14ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1890ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:22:49 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1890, 27), yå½¢çŠ¶=(1890, 2)
14:22:49 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:22:49 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:22:49 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.2309
14:22:49 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:22:49 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:22:49 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.1684
14:22:49 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ486 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:22:49 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š2745
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 486 æ¡ï¼Œç´¯è®¡ 2745 æ¡

[14:22:49] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:22:49 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š486 â†’ 486ï¼ˆcutoff=2025-09-01ï¼‰
14:22:49 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-09-04, cutoff=2025-09-01ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:22:49 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:22:49 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.2989ï¼ŒMAE=0.1424ï¼ŒRÂ²=0.7921
â”‚   gas_emission_velocity_qï¼šRMSE=0.1349ï¼ŒMAE=0.1085ï¼ŒRÂ²=0.9036
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.2169
14:22:49 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:22:49 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 486æ¡, å½“å‰RMSE: 0.2169
14:22:49 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.1236, ä¸‹é™æ¯”ä¾‹: 75.49%
14:22:49 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:22:49 | WARNING  | coal_mine_model:train:984 - æ€§èƒ½ä¸‹é™è¿‡å¤šï¼ˆ75.49%ï¼‰ï¼Œå°è¯•å›æ»š
14:22:49 | WARNING  | coal_mine_model:train:984 - æ€§èƒ½ä¸‹é™è¿‡å¤šï¼ˆ75.49%ï¼‰ï¼Œå°è¯•å›æ»š
14:22:49 | WARNING  | model_manager:rollback_model:293 - å¤‡ä»½ç´¢å¼• -2 è¶…å‡ºèŒƒå›´ï¼Œå…± 1 ä¸ªå¤‡ä»½
14:22:49 | WARNING  | model_manager:rollback_model:293 - å¤‡ä»½ç´¢å¼• -2 è¶…å‡ºèŒƒå›´ï¼Œå…± 1 ä¸ªå¤‡ä»½
14:22:49 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.1236 å½“å‰=0.2169
14:22:49 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142249_success

[14:22:49] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:22:49 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:22:49 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:22:49 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.2169
14:22:49 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š486
127.0.0.1 - - [14/Jan/2026 14:22:49] "POST /api/model/train HTTP/1.1" 200 -
14:22:59 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:22:59 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:22:59 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486
14:22:59 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}}
14:22:59 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:22:59 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 486æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-09-06 åˆ° 2025-09-08
14:22:59 | INFO     | __main__:train_model:402 - è®¡ç®—486æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:22:59 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:22:59 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:22:59 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:23:00 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š486ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š486ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:23:00 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š486
14:23:00 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.2, 'distance_from_entrance': 164.6, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 164.6, 'gas_emission_velocity_q': 0.14, 'measurement_date': '2025-09-06', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36590.3748828651, 'y_coord': 49547.0846480937, 'z_coord': -656.95992897067, 'fault_influence_strength': 0.5}
14:23:00 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:23:00 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=2745ï¼Œbatch=486ï¼Œepochs=3

[14:23:00] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:23:00 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 486
14:23:04 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 486 æ¡ seed è¡Œ
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:05 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=50.00%
14:23:05 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (486, 37)
14:23:05 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:05 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:05 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:23:05 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:05 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:05 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:05 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:23:05 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 486 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:23:05 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=14ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1980ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:23:05 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1980, 27), yå½¢çŠ¶=(1980, 2)
14:23:05 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:23:05 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:23:05 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.2245
14:23:05 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 120, è®¡åˆ’è¿½åŠ : 20
14:23:05 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140
14:23:05 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 140, è®­ç»ƒRMSE: 0.1587
14:23:05 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ486 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:23:05 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š3231
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 486 æ¡ï¼Œç´¯è®¡ 3231 æ¡

[14:23:05] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:23:05 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š486 â†’ 486ï¼ˆcutoff=2025-09-05ï¼‰
14:23:05 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-09-08, cutoff=2025-09-05ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:23:05 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:05 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.1279ï¼ŒMAE=0.1105ï¼ŒRÂ²=0.8573
â”‚   gas_emission_velocity_qï¼šRMSE=0.074ï¼ŒMAE=0.0526ï¼ŒRÂ²=0.9549
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.101
14:23:05 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:23:05 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 486æ¡, å½“å‰RMSE: 0.1010
14:23:05 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.1236, ä¸‹é™æ¯”ä¾‹: -18.28%
14:23:05 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:23:05 | INFO     | coal_mine_model:train:1018 - æ›´æ–°æ€§èƒ½åŸºçº¿(æ›´ä¼˜): 0.1010
14:23:05 | INFO     | model_manager:save_model:86 - æ¨¡å‹å¤‡ä»½å®Œæˆï¼Œå¤‡ä»½ç›®å½•ï¼šmodels\backup\20260114_142305ï¼Œç®—æ³•ç±»å‹ï¼šlightgbm
14:23:05 | INFO     | coal_mine_model:train:1091 - å‘å¸ƒæˆåŠŸï¼špublish_action=published
14:23:05 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.1010

[14:23:05] æ¨¡å‹è®­ç»ƒè¯Šæ–­ç»“æœ
----------------------------------------
â”‚ drilling_cuttings_s: è®­ç»ƒRMSE=0.2245, (è®­ç»ƒé›†)RMSE=0.2245, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½
â”‚ gas_emission_velocity_q: è®­ç»ƒRMSE=0.1587, (è®­ç»ƒé›†)RMSE=0.1587, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½

[14:23:05] å‚æ•°è°ƒæ•´å»ºè®®
----------------------------------------
â”‚ âœ… æ¨¡å‹æ‹ŸåˆçŠ¶æ€è‰¯å¥½ï¼Œå½“å‰å‚æ•°é…ç½®åˆç†
â”‚ ğŸ’¡ å¯å°è¯•å¾®è°ƒ learning_rate æˆ– lightgbm ç‰¹å®šå‚æ•°è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½
â”‚ ğŸ”§ å‚æ•°è°ƒæ•´ä½ç½®ï¼šconfig_phase1.ini -> [Model] section
â”‚ ğŸ¯ å½“å‰ä½¿ç”¨ç®—æ³•ï¼šlightgbm
â”‚ ğŸ’¾ ä¿®æ”¹é…ç½®åé‡å¯æœåŠ¡ç”Ÿæ•ˆ
14:23:05 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼šsuccessï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š486
127.0.0.1 - - [14/Jan/2026 14:23:05] "POST /api/model/train HTTP/1.1" 200 -
14:23:15 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:23:15 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:23:15 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486
14:23:15 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}}
14:23:15 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:23:15 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 486æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-09-10 åˆ° 2025-09-12
14:23:15 | INFO     | __main__:train_model:402 - è®¡ç®—486æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:23:15 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:23:15 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:23:15 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:23:16 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š486ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š486ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:23:16 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š486
14:23:16 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.1, 'distance_from_entrance': 176.8, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 176.8, 'gas_emission_velocity_q': 0.27, 'measurement_date': '2025-09-10', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36587.6101040826, 'y_coord': 49558.7618051755, 'z_coord': -656.833705300043, 'fault_influence_strength': 0.5}
14:23:16 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:23:16 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=3231ï¼Œbatch=486ï¼Œepochs=3

[14:23:16] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:23:16 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 486
14:23:21 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 486 æ¡ seed è¡Œ
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:21 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=50.00%
14:23:21 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (486, 37)
14:23:21 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:21 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:21 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:23:21 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:21 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:21 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:21 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:23:21 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 486 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:23:21 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=2682ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:23:22 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(2682, 27), yå½¢çŠ¶=(2682, 2)
14:23:22 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 140, è®¡åˆ’è¿½åŠ : 20
14:23:22 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160
14:23:22 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160, è®­ç»ƒRMSE: 0.1540
14:23:22 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 140, è®¡åˆ’è¿½åŠ : 20
14:23:22 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160
14:23:22 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160, è®­ç»ƒRMSE: 0.1151
14:23:22 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ486 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:23:22 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š3717
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 486 æ¡ï¼Œç´¯è®¡ 3717 æ¡

[14:23:22] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:23:22 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š486 â†’ 486ï¼ˆcutoff=2025-09-09ï¼‰
14:23:22 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-09-12, cutoff=2025-09-09ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:23:22 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:22 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.0849ï¼ŒMAE=0.0696ï¼ŒRÂ²=0.9353
â”‚   gas_emission_velocity_qï¼šRMSE=0.0642ï¼ŒMAE=0.0463ï¼ŒRÂ²=0.9673
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0745
14:23:22 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:23:22 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 486æ¡, å½“å‰RMSE: 0.0745
14:23:22 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.1010, ä¸‹é™æ¯”ä¾‹: -26.24%
14:23:22 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:23:22 | INFO     | coal_mine_model:train:1018 - æ›´æ–°æ€§èƒ½åŸºçº¿(æ›´ä¼˜): 0.0745
14:23:22 | INFO     | model_manager:save_model:86 - æ¨¡å‹å¤‡ä»½å®Œæˆï¼Œå¤‡ä»½ç›®å½•ï¼šmodels\backup\20260114_142322ï¼Œç®—æ³•ç±»å‹ï¼šlightgbm
14:23:22 | INFO     | coal_mine_model:train:1091 - å‘å¸ƒæˆåŠŸï¼špublish_action=published
14:23:22 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0745

[14:23:22] æ¨¡å‹è®­ç»ƒè¯Šæ–­ç»“æœ
----------------------------------------
â”‚ drilling_cuttings_s: è®­ç»ƒRMSE=0.154, (è®­ç»ƒé›†)RMSE=0.154, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½
â”‚ gas_emission_velocity_q: è®­ç»ƒRMSE=0.1151, (è®­ç»ƒé›†)RMSE=0.1151, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½

[14:23:22] å‚æ•°è°ƒæ•´å»ºè®®
----------------------------------------
â”‚ âœ… æ¨¡å‹æ‹ŸåˆçŠ¶æ€è‰¯å¥½ï¼Œå½“å‰å‚æ•°é…ç½®åˆç†
â”‚ ğŸ’¡ å¯å°è¯•å¾®è°ƒ learning_rate æˆ– lightgbm ç‰¹å®šå‚æ•°è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½
â”‚ ğŸ”§ å‚æ•°è°ƒæ•´ä½ç½®ï¼šconfig_phase1.ini -> [Model] section
â”‚ ğŸ¯ å½“å‰ä½¿ç”¨ç®—æ³•ï¼šlightgbm
â”‚ ğŸ’¾ ä¿®æ”¹é…ç½®åé‡å¯æœåŠ¡ç”Ÿæ•ˆ
14:23:22 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼šsuccessï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š486
127.0.0.1 - - [14/Jan/2026 14:23:22] "POST /api/model/train HTTP/1.1" 200 -
14:23:32 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:23:32 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:23:32 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486
14:23:32 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}}
14:23:32 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:23:32 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 486æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-09-14 åˆ° 2025-09-16
14:23:32 | INFO     | __main__:train_model:386 - å‘ç°9ä¸ªåæ ‡ç‚¹æœ‰é‡å¤æµ‹é‡
14:23:32 | INFO     | __main__:train_model:402 - è®¡ç®—486æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:23:32 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:23:32 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:23:32 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:23:33 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š486ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š486ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:23:33 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š486
14:23:33 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.1, 'distance_from_entrance': 188.0, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 188.0, 'gas_emission_velocity_q': 0.14, 'measurement_date': '2025-09-14', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36585.1909226478, 'y_coord': 49568.9793176222, 'z_coord': -656.721609585811, 'fault_influence_strength': 0.5}
14:23:33 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:23:33 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=3717ï¼Œbatch=486ï¼Œepochs=3

[14:23:33] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:23:33 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 486
14:23:37 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 477 æ¡ seed è¡Œ
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.82%
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:38 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=50.00%
14:23:38 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (486, 37)
14:23:38 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:38 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:38 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:23:38 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:38 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:38 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:38 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:23:38 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 486 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:23:38 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=2637ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:23:38 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(2637, 27), yå½¢çŠ¶=(2637, 2)
14:23:38 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:23:38 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:23:38 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0988
14:23:38 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:23:38 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:23:38 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0826
14:23:38 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ486 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:23:38 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š4203
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 486 æ¡ï¼Œç´¯è®¡ 4203 æ¡

[14:23:38] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:23:38 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š486 â†’ 486ï¼ˆcutoff=2025-09-13ï¼‰
14:23:38 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-09-16, cutoff=2025-09-13ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:23:38 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:38 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.1017ï¼ŒMAE=0.0765ï¼ŒRÂ²=0.9279
â”‚   gas_emission_velocity_qï¼šRMSE=0.0628ï¼ŒMAE=0.0446ï¼ŒRÂ²=0.9779
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0823
14:23:38 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:23:38 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 486æ¡, å½“å‰RMSE: 0.0823
14:23:38 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0745, ä¸‹é™æ¯”ä¾‹: 10.47%
14:23:38 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:23:38 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.0745 å½“å‰=0.0823
14:23:38 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142338_success

[14:23:38] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:23:38 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:23:38 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:23:38 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0823
14:23:38 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š486
127.0.0.1 - - [14/Jan/2026 14:23:38] "POST /api/model/train HTTP/1.1" 200 -
14:23:48 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:23:48 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:23:48 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=468, valid_labels=468
14:23:48 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=468, valid_labels=468, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 468, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 468, 'missing_ratio': 0.0}}
14:23:48 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:23:48 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 468æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-09-18 åˆ° 2025-09-26
14:23:48 | INFO     | __main__:train_model:402 - è®¡ç®—468æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:23:48 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:23:48 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:23:48 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:23:49 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š468ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š468ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:23:49 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š468
14:23:49 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.1, 'distance_from_entrance': 197.3, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 197.3, 'gas_emission_velocity_q': 0.35, 'measurement_date': '2025-09-18', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36583.1173385609, 'y_coord': 49577.7371854335, 'z_coord': -656.62589757195, 'fault_influence_strength': 0.5}
14:23:49 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:23:49 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=4203ï¼Œbatch=468ï¼Œepochs=3

[14:23:49] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:23:49 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 468
14:23:54 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 468 æ¡ seed è¡Œ
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:23:55 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=48.08%
14:23:55 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (468, 37)
14:23:55 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:55 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:55 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:23:55 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:23:55 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:55 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:23:55 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:23:55 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 468 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:23:55 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1926ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:23:55 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1926, 27), yå½¢çŠ¶=(1926, 2)
14:23:55 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:23:55 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:23:55 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0937
14:23:55 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:23:55 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:23:55 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0584
14:23:55 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ468 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:23:55 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š4671
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 468 æ¡ï¼Œç´¯è®¡ 4671 æ¡

[14:23:55] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:23:55 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š243 â†’ 243ï¼ˆcutoff=2025-09-23ï¼‰
14:23:55 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-09-26, cutoff=2025-09-23ï¼Œspan_days=10, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:23:55 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:23:55 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.0667ï¼ŒMAE=0.0522ï¼ŒRÂ²=0.9513
â”‚   gas_emission_velocity_qï¼šRMSE=0.0504ï¼ŒMAE=0.0358ï¼ŒRÂ²=0.9824
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0585
14:23:55 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:23:55 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 468æ¡, å½“å‰RMSE: 0.0585
14:23:55 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0745, ä¸‹é™æ¯”ä¾‹: -21.48%
14:23:55 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:23:55 | INFO     | coal_mine_model:train:1018 - æ›´æ–°æ€§èƒ½åŸºçº¿(æ›´ä¼˜): 0.0585
14:23:55 | INFO     | model_manager:save_model:86 - æ¨¡å‹å¤‡ä»½å®Œæˆï¼Œå¤‡ä»½ç›®å½•ï¼šmodels\backup\20260114_142355ï¼Œç®—æ³•ç±»å‹ï¼šlightgbm
14:23:55 | INFO     | coal_mine_model:train:1091 - å‘å¸ƒæˆåŠŸï¼špublish_action=published
14:23:55 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0585

[14:23:55] æ¨¡å‹è®­ç»ƒè¯Šæ–­ç»“æœ
----------------------------------------
â”‚ drilling_cuttings_s: è®­ç»ƒRMSE=0.0937, (è®­ç»ƒé›†)RMSE=0.0937, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½
â”‚ gas_emission_velocity_q: è®­ç»ƒRMSE=0.0584, (è®­ç»ƒé›†)RMSE=0.0584, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½

[14:23:55] å‚æ•°è°ƒæ•´å»ºè®®
----------------------------------------
â”‚ âœ… æ¨¡å‹æ‹ŸåˆçŠ¶æ€è‰¯å¥½ï¼Œå½“å‰å‚æ•°é…ç½®åˆç†
â”‚ ğŸ’¡ å¯å°è¯•å¾®è°ƒ learning_rate æˆ– lightgbm ç‰¹å®šå‚æ•°è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½
â”‚ ğŸ”§ å‚æ•°è°ƒæ•´ä½ç½®ï¼šconfig_phase1.ini -> [Model] section
â”‚ ğŸ¯ å½“å‰ä½¿ç”¨ç®—æ³•ï¼šlightgbm
â”‚ ğŸ’¾ ä¿®æ”¹é…ç½®åé‡å¯æœåŠ¡ç”Ÿæ•ˆ
14:23:55 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼šsuccessï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š468
127.0.0.1 - - [14/Jan/2026 14:23:55] "POST /api/model/train HTTP/1.1" 200 -
14:24:05 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:24:05 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:24:05 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486
14:24:05 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=486, valid_labels=486, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 486, 'missing_ratio': 0.0}}
14:24:05 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:24:05 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 486æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-09-28 åˆ° 2025-09-30
14:24:05 | INFO     | __main__:train_model:402 - è®¡ç®—486æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:24:05 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:24:05 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:05 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:06 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š486ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š486ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:24:06 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š486
14:24:06 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.0, 'distance_from_entrance': 222.8, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 222.8, 'gas_emission_velocity_q': 0.22, 'measurement_date': '2025-09-28', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36577.4956217032, 'y_coord': 49601.4807381667, 'z_coord': -656.430181683294, 'fault_influence_strength': 0.5}
14:24:06 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:24:06 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=4671ï¼Œbatch=486ï¼Œepochs=3

[14:24:06] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:24:06 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 486
14:24:11 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 486 æ¡ seed è¡Œ
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:12 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=50.00%
14:24:12 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (486, 37)
14:24:12 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:12 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:12 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:24:12 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:12 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:12 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:12 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:24:12 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 486 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:24:12 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1926ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:24:12 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1926, 27), yå½¢çŠ¶=(1926, 2)
14:24:12 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 180, è®¡åˆ’è¿½åŠ : 20
14:24:12 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200
14:24:12 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200, è®­ç»ƒRMSE: 0.0740
14:24:12 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 180, è®¡åˆ’è¿½åŠ : 20
14:24:12 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200
14:24:12 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200, è®­ç»ƒRMSE: 0.0539
14:24:12 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ486 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:24:12 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š5157
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 486 æ¡ï¼Œç´¯è®¡ 5157 æ¡

[14:24:12] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:24:12 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š486 â†’ 486ï¼ˆcutoff=2025-09-27ï¼‰
14:24:12 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-09-30, cutoff=2025-09-27ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:24:12 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:12 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.0783ï¼ŒMAE=0.0531ï¼ŒRÂ²=0.9626
â”‚   gas_emission_velocity_qï¼šRMSE=0.0521ï¼ŒMAE=0.0265ï¼ŒRÂ²=0.9834
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0652
14:24:12 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:24:12 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 486æ¡, å½“å‰RMSE: 0.0652
14:24:12 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0585, ä¸‹é™æ¯”ä¾‹: 11.45%
14:24:12 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:24:12 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.0585 å½“å‰=0.0652
14:24:12 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142412_success

[14:24:12] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:24:12 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:24:12 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:24:12 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0652
14:24:12 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š486
127.0.0.1 - - [14/Jan/2026 14:24:12] "POST /api/model/train HTTP/1.1" 200 -
14:24:22 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:24:22 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:24:22 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=333, valid_labels=333
14:24:22 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=333, valid_labels=333, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 333, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 333, 'missing_ratio': 0.0}}
14:24:22 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:24:22 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 333æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-10-02 åˆ° 2025-10-04
14:24:22 | INFO     | __main__:train_model:402 - è®¡ç®—333æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:24:22 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:24:22 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:22 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:23 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š333ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š333ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:24:23 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š333
14:24:23 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '24.0', 'coal_thickness': 3.1, 'distance_from_entrance': 231.2, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 231.2, 'gas_emission_velocity_q': 0.45, 'measurement_date': '2025-10-02', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36340.9054850518, 'y_coord': 49553.5431996848, 'z_coord': -593.335538160647, 'fault_influence_strength': 0.5}
14:24:23 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:24:23 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=5157ï¼Œbatch=333ï¼Œepochs=3

[14:24:23] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:24:23 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 333
14:24:27 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 333 æ¡ seed è¡Œ
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:27 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=48.65%
14:24:27 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (333, 37)
14:24:27 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:27 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:27 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:24:27 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:27 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:27 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:27 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:24:27 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 333 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:24:27 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1773ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:24:27 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1773, 27), yå½¢çŠ¶=(1773, 2)
14:24:27 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 180, è®¡åˆ’è¿½åŠ : 20
14:24:28 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200
14:24:28 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200, è®­ç»ƒRMSE: 0.0821
14:24:28 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 180, è®¡åˆ’è¿½åŠ : 20
14:24:28 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200
14:24:28 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 200, è®­ç»ƒRMSE: 0.0586
14:24:28 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ333 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:24:28 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š5490
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 333 æ¡ï¼Œç´¯è®¡ 5490 æ¡

[14:24:28] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:24:28 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š333 â†’ 333ï¼ˆcutoff=2025-10-01ï¼‰
14:24:28 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-10-04, cutoff=2025-10-01ï¼Œspan_days=6, uniq_dates=4
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:24:28 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:28 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=14.5%
14:24:28 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.7%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.1255ï¼ŒMAE=0.1059ï¼ŒRÂ²=0.883
â”‚   gas_emission_velocity_qï¼šRMSE=0.0853ï¼ŒMAE=0.072ï¼ŒRÂ²=0.964
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.1054
14:24:28 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:24:28 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 333æ¡, å½“å‰RMSE: 0.1054
14:24:28 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0585, ä¸‹é™æ¯”ä¾‹: 80.17%
14:24:28 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:24:28 | WARNING  | coal_mine_model:train:984 - æ€§èƒ½ä¸‹é™è¿‡å¤šï¼ˆ80.17%ï¼‰ï¼Œå°è¯•å›æ»š
14:24:28 | WARNING  | coal_mine_model:train:984 - æ€§èƒ½ä¸‹é™è¿‡å¤šï¼ˆ80.17%ï¼‰ï¼Œå°è¯•å›æ»š
14:24:28 | INFO     | model_manager:rollback_model:299 - å›æ»šåˆ°å¤‡ä»½ï¼š20260114_142305
14:24:28 | INFO     | model_manager:rollback_model:307 - æ¢å¤æ–‡ä»¶ï¼špreprocessor.pkl
14:24:28 | INFO     | model_manager:rollback_model:307 - æ¢å¤æ–‡ä»¶ï¼štraining_features.pkl
14:24:28 | INFO     | model_manager:rollback_model:307 - æ¢å¤æ–‡ä»¶ï¼šalgorithm.pkl
14:24:28 | INFO     | model_manager:rollback_model:326 - æ¢å¤æ¨¡å‹æ–‡ä»¶ï¼šmodel_drilling_cuttings_s.txt
14:24:28 | INFO     | model_manager:rollback_model:326 - æ¢å¤æ¨¡å‹æ–‡ä»¶ï¼šmodel_gas_emission_velocity_q.txt

[14:24:28] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:24:28 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------

[14:24:28] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:24:28 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:24:28 | INFO     | coal_mine_model:train:994 - å›æ»šæˆåŠŸï¼ŒåŸºçº¿RMSEæ¢å¤ä¸ºï¼š0.0585
14:24:28 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.0585 å½“å‰=0.1054
14:24:28 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142428_success

[14:24:28] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:24:28 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:24:28 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:24:28 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.1054
14:24:28 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š333
127.0.0.1 - - [14/Jan/2026 14:24:28] "POST /api/model/train HTTP/1.1" 200 -
14:24:38 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:24:38 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:24:38 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=324, valid_labels=324
14:24:38 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=324, valid_labels=324, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 324, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 324, 'missing_ratio': 0.0}}
14:24:38 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:24:38 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 324æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-10-06 åˆ° 2025-10-09
14:24:38 | INFO     | __main__:train_model:402 - è®¡ç®—324æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:24:38 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:24:38 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:38 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:38 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š324ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š324ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:24:38 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š324
14:24:38 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.0, 'distance_from_entrance': 241.0, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.2, 'drilling_depth': 2.0, 'face_advance_distance': 241.0, 'gas_emission_velocity_q': 0.26, 'measurement_date': '2025-10-06', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36573.3092888052, 'y_coord': 49619.1618876155, 'z_coord': -656.40114028391, 'fault_influence_strength': 0.5}
14:24:38 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:24:38 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=5490ï¼Œbatch=324ï¼Œepochs=3

[14:24:38] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:24:38 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 324
14:24:42 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 324 æ¡ seed è¡Œ
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=17.59%
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:42 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=50.00%
14:24:42 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (324, 37)
14:24:42 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:42 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:42 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:24:42 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:42 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:42 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:42 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:24:43 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 324 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:24:43 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1611ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:24:43 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1611, 27), yå½¢çŠ¶=(1611, 2)
14:24:43 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 140, è®¡åˆ’è¿½åŠ : 20
14:24:43 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160
14:24:43 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160, è®­ç»ƒRMSE: 0.0975
14:24:43 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 140, è®¡åˆ’è¿½åŠ : 20
14:24:43 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160
14:24:43 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160, è®­ç»ƒRMSE: 0.0772
14:24:43 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ324 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:24:43 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š5814
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 324 æ¡ï¼Œç´¯è®¡ 5814 æ¡

[14:24:43] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:24:43 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š324 â†’ 324ï¼ˆcutoff=2025-10-06ï¼‰
14:24:43 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-10-09, cutoff=2025-10-06ï¼Œspan_days=7, uniq_dates=4
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:24:43 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=16.5%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=19.0%
14:24:43 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=1.6%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.0951ï¼ŒMAE=0.0704ï¼ŒRÂ²=0.9268
â”‚   gas_emission_velocity_qï¼šRMSE=0.0708ï¼ŒMAE=0.0542ï¼ŒRÂ²=0.9729
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0829
14:24:43 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:24:43 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 324æ¡, å½“å‰RMSE: 0.0829
14:24:43 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0585, ä¸‹é™æ¯”ä¾‹: 41.71%
14:24:43 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:24:43 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.0585 å½“å‰=0.0829
14:24:43 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142443_success

[14:24:43] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:24:43 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:24:43 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:24:43 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0829
14:24:43 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š324
127.0.0.1 - - [14/Jan/2026 14:24:43] "POST /api/model/train HTTP/1.1" 200 -
14:24:53 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:24:53 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:24:53 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=369, valid_labels=369
14:24:53 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=369, valid_labels=369, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 369, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 369, 'missing_ratio': 0.0}}
14:24:53 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:24:53 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 369æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-10-11 åˆ° 2025-10-13
14:24:53 | INFO     | __main__:train_model:402 - è®¡ç®—369æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:24:53 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:24:53 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:53 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:24:53 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š369ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š369ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:24:53 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š369
14:24:53 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '6.0', 'coal_thickness': 3.3, 'distance_from_entrance': 250.5, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.2, 'drilling_depth': 2.0, 'face_advance_distance': 250.5, 'gas_emission_velocity_q': 0.13, 'measurement_date': '2025-10-11', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36523.5339309766, 'y_coord': 49619.9472832345, 'z_coord': -643.258297009883, 'fault_influence_strength': 0.5}
14:24:53 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:24:53 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=5814ï¼Œbatch=369ï¼Œepochs=3

[14:24:53] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:24:53 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 369
14:24:58 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 369 æ¡ seed è¡Œ
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:24:59 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=43.90%
14:24:59 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (369, 37)
14:24:59 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:59 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:59 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:24:59 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:24:59 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:59 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:24:59 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:24:59 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 369 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:24:59 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=1755ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:24:59 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(1755, 27), yå½¢çŠ¶=(1755, 2)
14:24:59 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 140, è®¡åˆ’è¿½åŠ : 20
14:24:59 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160
14:24:59 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160, è®­ç»ƒRMSE: 0.0923
14:24:59 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 140, è®¡åˆ’è¿½åŠ : 20
14:24:59 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160
14:24:59 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 160, è®­ç»ƒRMSE: 0.0740
14:24:59 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ369 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:24:59 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š6183
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 369 æ¡ï¼Œç´¯è®¡ 6183 æ¡

[14:24:59] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:24:59 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š369 â†’ 369ï¼ˆcutoff=2025-10-10ï¼‰
14:24:59 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-10-13, cutoff=2025-10-10ï¼Œspan_days=7, uniq_dates=4
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:24:59 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:24:59 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.0639ï¼ŒMAE=0.0506ï¼ŒRÂ²=0.9605
â”‚   gas_emission_velocity_qï¼šRMSE=0.0485ï¼ŒMAE=0.0379ï¼ŒRÂ²=0.9778
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0562
14:24:59 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:24:59 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 369æ¡, å½“å‰RMSE: 0.0562
14:24:59 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0585, ä¸‹é™æ¯”ä¾‹: -3.93%
14:24:59 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:24:59 | INFO     | coal_mine_model:train:1018 - æ›´æ–°æ€§èƒ½åŸºçº¿(æ›´ä¼˜): 0.0562
14:24:59 | INFO     | model_manager:save_model:86 - æ¨¡å‹å¤‡ä»½å®Œæˆï¼Œå¤‡ä»½ç›®å½•ï¼šmodels\backup\20260114_142459ï¼Œç®—æ³•ç±»å‹ï¼šlightgbm
14:24:59 | INFO     | coal_mine_model:train:1091 - å‘å¸ƒæˆåŠŸï¼špublish_action=published
14:24:59 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0562

[14:24:59] æ¨¡å‹è®­ç»ƒè¯Šæ–­ç»“æœ
----------------------------------------
â”‚ drilling_cuttings_s: è®­ç»ƒRMSE=0.0923, (è®­ç»ƒé›†)RMSE=0.0923, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½
â”‚ gas_emission_velocity_q: è®­ç»ƒRMSE=0.074, (è®­ç»ƒé›†)RMSE=0.074, è¿‡æ‹Ÿåˆæ¯”ç‡=1.0 âœ… è‰¯å¥½

[14:24:59] å‚æ•°è°ƒæ•´å»ºè®®
----------------------------------------
â”‚ âœ… æ¨¡å‹æ‹ŸåˆçŠ¶æ€è‰¯å¥½ï¼Œå½“å‰å‚æ•°é…ç½®åˆç†
â”‚ ğŸ’¡ å¯å°è¯•å¾®è°ƒ learning_rate æˆ– lightgbm ç‰¹å®šå‚æ•°è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½
â”‚ ğŸ”§ å‚æ•°è°ƒæ•´ä½ç½®ï¼šconfig_phase1.ini -> [Model] section
â”‚ ğŸ¯ å½“å‰ä½¿ç”¨ç®—æ³•ï¼šlightgbm
â”‚ ğŸ’¾ ä¿®æ”¹é…ç½®åé‡å¯æœåŠ¡ç”Ÿæ•ˆ
14:24:59 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼šsuccessï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š369
127.0.0.1 - - [14/Jan/2026 14:24:59] "POST /api/model/train HTTP/1.1" 200 -
14:25:09 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:25:09 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:25:09 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=414, valid_labels=414
14:25:09 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=414, valid_labels=414, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 414, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 414, 'missing_ratio': 0.0}}
14:25:09 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:25:09 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 414æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-10-15 åˆ° 2025-10-17
14:25:09 | INFO     | __main__:train_model:402 - è®¡ç®—414æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:25:09 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:25:09 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:25:09 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:25:10 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š414ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š414ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:25:10 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š414
14:25:10 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.0, 'distance_from_entrance': 259.6, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 259.6, 'gas_emission_velocity_q': 0.35, 'measurement_date': '2025-10-15', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36567.5262931851, 'y_coord': 49643.5866078451, 'z_coord': -654.967397899355, 'fault_influence_strength': 0.5}
14:25:10 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:25:10 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=6183ï¼Œbatch=414ï¼Œepochs=3

[14:25:10] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:25:10 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 414
14:25:15 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 414 æ¡ seed è¡Œ
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:25:16 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=50.00%
14:25:16 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (414, 37)
14:25:16 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:25:16 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:25:16 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:25:16 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:25:16 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:25:16 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:25:16 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:25:16 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 414 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:25:16 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=2169ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:25:16 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(2169, 27), yå½¢çŠ¶=(2169, 2)
14:25:16 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:25:16 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:25:16 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0779
14:25:16 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:25:16 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:25:16 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0627
14:25:16 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ414 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:25:16 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š6597
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 414 æ¡ï¼Œç´¯è®¡ 6597 æ¡

[14:25:16] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:25:16 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š414 â†’ 414ï¼ˆcutoff=2025-10-14ï¼‰
14:25:16 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-10-17, cutoff=2025-10-14ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:25:16 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:16 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.0694ï¼ŒMAE=0.0538ï¼ŒRÂ²=0.9552
â”‚   gas_emission_velocity_qï¼šRMSE=0.0517ï¼ŒMAE=0.0362ï¼ŒRÂ²=0.9713
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0605
14:25:16 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:25:16 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 414æ¡, å½“å‰RMSE: 0.0605
14:25:16 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0562, ä¸‹é™æ¯”ä¾‹: 7.65%
14:25:16 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:25:16 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.0562 å½“å‰=0.0605
14:25:16 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142516_success

[14:25:16] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:25:16 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:25:16 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:25:16 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0605
14:25:16 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š414
127.0.0.1 - - [14/Jan/2026 14:25:16] "POST /api/model/train HTTP/1.1" 200 -
14:25:26 | INFO     | __main__:train_model:187 - æ¥æ”¶åˆ°ã€æ¨¡å‹è®­ç»ƒã€‘è¯·æ±‚ï¼ˆæ—¶ç©ºå¢å¼ºç‰ˆï¼‰
14:25:26 | INFO     | __main__:train_model:230 - æ£€æŸ¥æ—¶ç©ºæ•°æ®å®Œæ•´æ€§
14:25:26 | INFO     | __main__:train_model:347 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=405, valid_labels=405
14:25:26 | INFO     | __main__:train_model:353 - è®­ç»ƒæ ‡ç­¾æ ¡éªŒé€šè¿‡ï¼štotal=405, valid_labels=405, threshold=0.1, missing_stats={'drilling_cuttings_s': {'missing_count': 0, 'total_count': 405, 'missing_ratio': 0.0}, 'gas_emission_velocity_q': {'missing_count': 0, 'total_count': 405, 'missing_ratio': 0.0}}
14:25:26 | INFO     | __main__:train_model:360 - æ—¶ç©ºæ•°æ®ç»Ÿè®¡:
14:25:26 | INFO     | __main__:train_model:375 -  å·¥ä½œé¢ '15080': 405æ¡è®°å½•ï¼Œæ—¥æœŸèŒƒå›´: 2025-10-19 åˆ° 2025-10-21
14:25:26 | INFO     | __main__:train_model:402 - è®¡ç®—405æ¡æ ·æœ¬çš„æ–­å±‚å½±å“ç³»æ•°
14:25:26 | INFO     | fault_calculator:calculate_fault_influence_strength:63 - è‡ªåŠ¨è®¡ç®—æ–­å±‚å½±å“ç³»æ•°
14:25:26 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:25:26 | WARNING  | fault_calculator:_get_faults_and_points:195 - æ–­å±‚13ï¼ˆFF102ï¼‰æ— æ•ˆï¼šç»„æˆç‚¹0ä¸ªï¼ˆéœ€â‰¥2ä¸ªï¼‰ï¼Œå·²è¿‡æ»¤
14:25:27 | INFO     | fault_calculator:calculate_fault_influence_strength:153 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼šæ ·æœ¬æ•°ï¼š405ï¼Œæœ‰æ•ˆè®¡ç®—ï¼š405ï¼Œå¹³å‡å€¼ï¼š0.5ï¼Œæœ€å¤§å€¼ï¼š0.5
14:25:27 | INFO     | __main__:train_model:404 - æ–­å±‚å½±å“ç³»æ•°è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ ·æœ¬æ•°ï¼š405
14:25:27 | INFO     | __main__:train_model:411 - æ–­å±‚è®¡ç®—åæ•°æ®ç¤ºä¾‹ï¼ˆç¬¬ä¸€æ¡ï¼‰ï¼š{'borehole_id': '1.0', 'coal_thickness': 3.3, 'distance_from_entrance': 269.0, 'distance_to_face': 2.0, 'drilling_cuttings_s': 2.0, 'drilling_depth': 2.0, 'face_advance_distance': 269.0, 'gas_emission_velocity_q': 0.14, 'measurement_date': '2025-10-19', 'regional_measure_strength': 16.5, 'roadway': 'mining', 'roadway_id': 11, 'work_stage': 'å›é‡‡', 'workface_id': 1, 'working_face': 15080, 'x_coord': 36565.1071117505, 'y_coord': 49653.8041202917, 'z_coord': -654.370210679987, 'fault_influence_strength': 0.5}
14:25:27 | INFO     | __main__:train_model:412 - æ–­å±‚è®¡ç®—åæ•°æ®å­—æ®µï¼š['borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_cuttings_s', 'drilling_depth', 'face_advance_distance', 'gas_emission_velocity_q', 'measurement_date', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'workface_id', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength']
14:25:27 | INFO     | __main__:train_model:415 - å¼€å§‹æ¨¡å‹è®­ç»ƒï¼šinitial_total=6597ï¼Œbatch=405ï¼Œepochs=3

[14:25:27] æ¨¡å‹è®­ç»ƒå¼€å§‹
----------------------------------------
14:25:27 | INFO     | coal_mine_model:train:538 - å¼€å§‹æ•°æ®é¢„å¤„ç†ï¼Œè¾“å…¥æ•°æ®æ ·æœ¬æ•°: 405
14:25:33 | INFO     | data_preprocessor:_generate_spatiotemporal_features:667 - è®­ç»ƒé˜¶æ®µå†å²ç§å­æ¥ç»­å®Œæˆï¼šæ³¨å…¥ 405 æ¡ seed è¡Œ
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1017 - ã€æ•°æ®è´¨é‡æ¦‚è§ˆã€‘å¢å¼ºç‰¹å¾ç¼ºå¤±/ä¸º0æ¯”ä¾‹ï¼š
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_historical_mean: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - drilling_cuttings_s_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_velocity_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=0.00%
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - gas_emission_q_trend: NaNå æ¯”=0.00%, 0å æ¯”=100.00%
14:25:33 | INFO     | data_preprocessor:_log_data_quality_summary:1025 -   - advance_rate: NaNå æ¯”=0.00%, 0å æ¯”=51.11%
14:25:33 | INFO     | coal_mine_model:train:542 - æ•°æ®é¢„å¤„ç†å®Œæˆï¼ŒDataFrameå½¢çŠ¶: (405, 37)
14:25:33 | INFO     | coal_mine_model:train:548 - DataFrameåˆ—å: ['workface_id', 'spatiotemporal_group', 'measurement_date', 'drilling_cuttings_s', 'gas_emission_velocity_q', 'gas_emission_q', 'measurement_date_parsed', 'borehole_id', 'coal_thickness', 'distance_from_entrance', 'distance_to_face', 'drilling_depth', 'face_advance_distance', 'regional_measure_strength', 'roadway', 'roadway_id', 'work_stage', 'working_face', 'x_coord', 'y_coord', 'z_coord', 'fault_influence_strength', '_spatiotemporal_id', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'coord_hash', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:25:33 | INFO     | coal_mine_model:train:549 - è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:25:33 | INFO     | coal_mine_model:train:550 - ç›®æ ‡ç‰¹å¾: ['drilling_cuttings_s', 'gas_emission_velocity_q']
14:25:33 | INFO     | coal_mine_model:train:591 - [é…ç½®åˆ‡æ¢å] è®­ç»ƒç‰¹å¾: ['working_face', 'work_stage', 'roadway', 'roadway_id', 'borehole_id', 'distance_from_entrance', 'x_coord', 'y_coord', 'z_coord', 'coal_thickness', 'regional_measure_strength', 'drilling_depth', 'distance_to_face', 'face_advance_distance', 'workface_id', 'gas_emission_q', 'fault_influence_strength', 'days_since_start', 'days_in_workface', 'distance_time_interaction', 'advance_rate', 'distance_to_face_bucket', 'gas_emission_q_historical_mean', 'gas_emission_q_trend', 'drilling_cuttings_s_historical_mean', 'drilling_cuttings_s_trend', 'gas_emission_velocity_q_historical_mean', 'gas_emission_velocity_q_trend', 'gas_emission_velocity_q_rolling_mean', 'gas_emission_velocity_q_hist_fused']
14:25:33 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:25:33 | WARNING  | coal_mine_model:train:611 - training_features ä¸­å‘ç° gas_emission_q ç›¸å…³åˆ—ï¼Œå·²å‰”é™¤ï¼š['gas_emission_q', 'gas_emission_q_historical_mean', 'gas_emission_q_trend']
14:25:33 | INFO     | coal_mine_model:train:786 - æ•°æ®åº“äº‹åŠ¡å·²å¼€å¯ï¼Œå‡†å¤‡ä¿å­˜è®­ç»ƒæ•°æ®
14:25:33 | INFO     | coal_mine_model:train:797 - äº‹åŠ¡ä¸­æ’å…¥ 405 æ¡è®­ç»ƒæ•°æ®ï¼ˆæœªæäº¤ï¼‰
â”‚ è®­ç»ƒæ¨¡å¼åˆ¤æ–­ï¼šå¢é‡è®­ç»ƒ
14:25:33 | INFO     | coal_mine_model:train:874 - å¢é‡è®­ç»ƒçª—å£å·²ç”Ÿæ•ˆï¼šlookback_days=21ï¼Œwindow_limit=5000ï¼Œå®é™…è®­ç»ƒæ ·æœ¬=2088ï¼ˆå«å½“å‰æ‰¹æ¬¡ï¼‰
14:25:33 | INFO     | coal_mine_model:train:910 - æ„å»ºè®­ç»ƒé›†(å¢é‡): Xå½¢çŠ¶=(2088, 27), yå½¢çŠ¶=(2088, 2)
14:25:33 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:25:33 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: drilling_cuttings_s, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:25:33 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ drilling_cuttings_s â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0805
14:25:33 | INFO     | model_trainer:_incremental_train:276 - å¢é‡è®­ç»ƒå¼€å§‹ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, å½“å‰æ ‘æ•°é‡: 160, è®¡åˆ’è¿½åŠ : 20
14:25:33 | INFO     | model_trainer:_incremental_train:320 - å¢é‡è®­ç»ƒå®Œæˆ â†’ ç®—æ³•: lightgbm, ç›®æ ‡: gas_emission_velocity_q, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180
14:25:33 | INFO     | model_trainer:_incremental_train:341 - ç›®æ ‡ gas_emission_velocity_q â†’ è®­ç»ƒæ¨¡å¼: å¢é‡è®­ç»ƒ, è¿½åŠ æ ‘æ•°é‡: 20, ç´¯è®¡æ ‘æ•°é‡: 180, è®­ç»ƒRMSE: 0.0640
14:25:33 | INFO     | coal_mine_model:train:926 - äº‹åŠ¡æäº¤æˆåŠŸï¼Œ405 æ¡æ•°æ®å·²æŒä¹…åŒ–
14:25:33 | INFO     | model_manager:get_total_samples_from_db:352 - ä»æ•°æ®åº“æŸ¥è¯¢ç´¯è®¡æ ·æœ¬æ•°ï¼š7002
â”‚ æ ·æœ¬æ•°æ›´æ–°ï¼šæ–°å¢ 405 æ¡ï¼Œç´¯è®¡ 7002 æ¡

[14:25:33] æ¨¡å‹æ€§èƒ½è¯„ä¼°
----------------------------------------
14:25:33 | INFO     | model_evaluator:evaluate_model:250 - time_holdout+group_holdoutå¯ç”¨ï¼šgroup_key=spatiotemporal_groupï¼Œè¿‡æ»¤è®­ç»ƒæœŸé‡å¤groupï¼š405 â†’ 405ï¼ˆcutoff=2025-10-18ï¼‰
14:25:33 | INFO     | model_evaluator:evaluate_model:278 - time_holdoutè¯„ä¼°é›†å¯ç”¨ï¼šholdout_days=3ï¼Œå®é™…è¯„ä¼°æ ·æœ¬æ•°=200ï¼Œmax_date=2025-10-21, cutoff=2025-10-18ï¼Œspan_days=4, uniq_dates=3
â”‚ è¯„ä¼°æ ·æœ¬æ•°ï¼š200
14:25:33 | INFO     | model_evaluator:evaluate_model:381 - === è¯„ä¼°è¾“å…¥å¢å¼ºç‰¹å¾ç¼ºå¤±è¯Šæ–­ï¼ˆæ¥è‡ªt_feature_cacheï¼‰ ===
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - coord_hash: ç¼ºå¤±=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - spatiotemporal_group: ç¼ºå¤±=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - distance_to_face_bucket: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - days_since_start: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - days_in_workface: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - distance_time_interaction: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_historical_mean: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - drilling_cuttings_s_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - gas_emission_velocity_q_trend: ç¼ºå¤±=0.0%, ä¸º0=0.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:383 -   - advance_rate: ç¼ºå¤±=0.0%, ä¸º0=1.0%
14:25:33 | INFO     | model_evaluator:evaluate_model:395 - === è¯„ä¼°è¾“å…¥æ€»ä½“æ¦‚è§ˆï¼ˆä»…æ•°å€¼åˆ—ï¼Œn=22ï¼‰ === å¹³å‡ç¼ºå¤±ç‡=0.0%ï¼Œå¹³å‡ä¸º0ç‡=0.0%
â”‚ è¯„ä¼°æŒ‡æ ‡è¯¦æƒ…ï¼š
â”‚   drilling_cuttings_sï¼šRMSE=0.0776ï¼ŒMAE=0.0558ï¼ŒRÂ²=0.9537
â”‚   gas_emission_velocity_qï¼šRMSE=0.0491ï¼ŒMAE=0.0393ï¼ŒRÂ²=0.9839
â”‚ åŠ æƒå¹³å‡RMSEï¼š0.0634
14:25:34 | INFO     | coal_mine_model:train:978 - === æ€§èƒ½æ£€æŸ¥è¯Šæ–­ ===
14:25:34 | INFO     | coal_mine_model:train:979 - è®­ç»ƒæ•°æ®: 405æ¡, å½“å‰RMSE: 0.0634
14:25:34 | INFO     | coal_mine_model:train:980 - åŸºçº¿RMSE: 0.0562, ä¸‹é™æ¯”ä¾‹: 12.81%
14:25:34 | INFO     | coal_mine_model:train:981 - é˜ˆå€¼: 60.00%
14:25:34 | INFO     | coal_mine_model:train:1020 - ä¿æŒæ€§èƒ½åŸºçº¿ä¸å˜ï¼šbaseline=0.0562 å½“å‰=0.0634
14:25:34 | INFO     | model_manager:save_candidate_model:132 - å€™é€‰æ¨¡å‹å·²ä¿å­˜ï¼šmodels\candidates\20260114_142534_success

[14:25:34] åŠ è½½å·²æœ‰æ¨¡å‹
----------------------------------------
14:25:34 | INFO     | model_manager:load_model:256 - æ¨¡å‹åŠ è½½æˆåŠŸï¼š2ä¸ªç›®æ ‡lightgbmæ¨¡å‹+é¢„å¤„ç†æ¨¡å‹
â”‚ æ¨¡å‹åŠ è½½æˆåŠŸ
------------------------------------------------------------
14:25:34 | INFO     | coal_mine_model:train:1115 - æœ¬è½®ä¸å‘å¸ƒï¼špublish_action=kept_previous
14:25:34 | INFO     | coal_mine_model:train:1188 - è®­ç»ƒåè¯„ä¼°RMSE: 0.0634
14:25:34 | INFO     | __main__:train_model:467 - æ¨¡å‹è®­ç»ƒå®Œæˆï¼ŒçŠ¶æ€ï¼špartial_successï¼Œæ¨¡å¼ï¼šå¢é‡è®­ç»ƒï¼Œæ–°å¢æ ·æœ¬ï¼š405
127.0.0.1 - - [14/Jan/2026 14:25:34] "POST /api/model/train HTTP/1.1" 200 -

Process finished with exit code 0
